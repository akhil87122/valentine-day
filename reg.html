<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Registration Form</title>
  </head>
  <body>
    <h2>Register Here</h2>
    <form id="reg-form">
      <input
        type="text"
        id="name"
        name="name"
        placeholder="Your Name"
        required
      /><br /><br />
      <input
        type="email"
        id="email"
        name="email"
        placeholder="Your Email"
        required
      /><br /><br />
      <textarea
        id="message"
        name="message"
        placeholder="Your Message"
        required
      ></textarea
      ><br /><br />
      <button type="submit">Submit</button>
    </form>

    <!-- EmailJS Script -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script>
      (function () {
        emailjs.init("peRIViNUIkfkb6RlM"); // Replace with your actual Public Key
      })();

      document
        .getElementById("reg-form")
        .addEventListener("submit", function (event) {
          event.preventDefault(); // Prevent page reload

          const templateParams = {
            name: document.getElementById("name").value, // Matches {{name}} in EmailJS template
            email: document.getElementById("email").value, // Matches {{email}} in EmailJS template
            message: document.getElementById("message").value, // Matches {{message}} in EmailJS template
          };

          emailjs
            .send("service_mjq6ewr", "template_d4js09m", templateParams)
            .then(
              function (response) {
                alert("✅ Registration successful! Email sent.");
              },
              function (error) {
                alert("❌ Failed to send email: " + JSON.stringify(error));
              }
            );
        });
    </script>
  </body>
</html>
